<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Анкета кандидата</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; background:#f6f7fb; margin:0; padding:20px; }
    .container { max-width:800px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
    h1 { text-align:center; }
    label { display:block; margin:12px 0; font-weight:bold; }
    input, textarea { width:100%; padding:8px; margin-top:5px; border:1px solid #ccc; border-radius:6px; }
    button { display:block; margin:20px auto; padding:12px 30px; font-size:16px; background:#0078d7; color:white; border:none; border-radius:6px; cursor:pointer; }
    button:hover { background:#005a9e; }
    .ok { background:#e7fff1; padding:10px; border:1px solid #bff0d6; border-radius:6px; color:#0a8f4a; margin-bottom:10px; }
    .err { background:#ffecec; padding:10px; border:1px solid #f3b3b3; border-radius:6px; color:#a40000; margin-bottom:10px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Анкета кандидата</h1>
    <div id="msg"></div>
    <form id="form">
      <label>ФИО:
        <input type="text" name="full_name" required>
      </label>
      <label>Дата рождения:
        <input type="date" name="dob_date" required>
      </label>
      <label>Телефон:
        <input type="tel" name="phone" required>
      </label>
      <label>Telegram:
        <input type="text" name="telegram">
      </label>
      <label>Адрес проживания:
        <input type="text" name="address">
      </label>
      <label>Опыт работы:
        <textarea name="experience"></textarea>
      </label>
      <label>Почему хотите работать у нас?
        <textarea name="why_us"></textarea>
      </label>
      <button type="submit">Отправить</button>
    </form>
  </div>

  <script>
    const BOT_TOKEN = "8346524640:AAGaIPztb-3k25j0mWJm4w-g0SxHiQ-1fg0";
    const CHAT_ID   = "@LegoCity43"; // можно заменить на числовой id

    const form = document.getElementById('form');
    const msg  = document.getElementById('msg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const data = new FormData(form);
      const text =
        "<b>Новая анкета</b>\n" +
        "ФИО: " + data.get('full_name') + "\n" +
        "Дата рождения: " + data.get('dob_date') + "\n" +
        "Телефон: " + data.get('phone') + "\n" +
        "Telegram: @" + data.get('telegram') + "\n" +
        "Адрес: " + data.get('address') + "\n" +
        "Опыт:\n" + data.get('experience') + "\n\n" +
        "Почему к нам:\n" + data.get('why_us');

      try {
        const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: text,
            parse_mode: "HTML"
          })
        });
        const result = await res.json();
        if (result.ok) {
          msg.innerHTML = '<div class="ok">Анкета успешно отправлена!</div>';
          form.reset();
        } else {
          msg.innerHTML = '<div class="err">Ошибка отправки: ' + result.description + '</div>';
        }
      } catch (err) {
        msg.innerHTML = '<div class="err">Ошибка соединения</div>';
      }
    });
  </script>
</body>
</html>
