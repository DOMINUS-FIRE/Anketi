ㅤ, [17.09.2025 2:12]
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Анкета кандидата</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f3f3;
      margin: 0;
      padding: 0;
    }
    .container {
      width: 100%;
      max-width: 600px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,.1);
    }
    h2 { text-align: center; }
    label { display: block; margin-top: 12px; font-weight: bold; }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .dob-row {
      display: flex;
      gap: 5px;
    }
    .dob-row select { flex: 1; }
    .schedule {
      display: grid;
      grid-template-columns: 80px 1fr 1fr 1fr;
      gap: 5px;
      align-items: center;
      margin-top: 10px;
    }
    .schedule div { font-size: 14px; font-weight: bold; }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 10px;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover { background: #0056b3; }
    #success-message {
      text-align: center;
      color: green;
      font-weight: bold;
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>
<div class="container">
  <h2>Анкета кандидата</h2>
  <form id="anketaForm">
    <label>ФИО</label>
    <input type="text" name="full_name" required>

    <label>Дата рождения</label>
    <div class="dob-row">
      <select id="dob_day" name="dob_day" required></select>
      <select id="dob_month" name="dob_month" required></select>
      <select id="dob_year" name="dob_year" required></select>
    </div>
    <input type="text" id="age" name="dob_date" readonly placeholder="Возраст">

    <label>Телефон</label>
    <input type="text" name="phone">

    <label>Telegram</label>
    <input type="text" name="telegram">

    <label>Адрес проживания</label>
    <input type="text" name="address">

    <label>Прописка (из паспорта)</label>
    <input type="text" name="passport_registration">

    <label>Паспорт (серия, номер)</label>
    <input type="text" name="passport_number">

    <label>Кем выдан паспорт</label>
    <input type="text" name="passport_issuer">

    <label>Образование</label>
    <textarea name="education"></textarea>

    <label>Опыт работы</label>
    <textarea name="experience"></textarea>

    <label>Навыки</label>
    <textarea name="skills"></textarea>

    <label>Почему хотите работать у нас?</label>
    <textarea name="why_us"></textarea>

    <label>Фото (паспорт/лицо)</label>
    <input type="file" name="photo" accept="image/*">

    <h3>График работы</h3>
    <div class="schedule">
      <div>День</div><div>Статус</div><div>Часы</div><div>Причина</div>
      <div>Пн</div><input name="mon_status"><input name="mon_hours"><input name="mon_reason">
      <div>Вт</div><input name="tue_status"><input name="tue_hours"><input name="tue_reason">
      <div>Ср</div><input name="wed_status"><input name="wed_hours"><input name="wed_reason">
      <div>Чт</div><input name="thu_status"><input name="thu_hours"><input name="thu_reason">
      <div>Пт</div><input name="fri_status"><input name="fri_hours"><input name="fri_reason">
      <div>Сб</div><input name="sat_status"><input name="sat_hours"><input name="sat_reason">
      <div>Вс</div><input name="sun_status"><input name="sun_hours"><input name="sun_reason">
    </div>

    <button type="submit">Отправить анкету</button>
  </form>
  <div id="success-message">✅ Спасибо! Анкета отправлена.</div>
</div>

<script>
  // Заполнение даты рождения
  const daySel = document.getElementById('dob_day');
  const monthSel = document.getElementById('dob_month');
  const yearSel = document.getElementById('dob_year');
  const ageInput = document.getElementById('age');

  for (let d=1; d<=31; d++) {
    daySel.add(new Option(d, d));
  }

ㅤ, [17.09.2025 2:12]
const months = ["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"];
  months.forEach((m,i)=> monthSel.add(new Option(m, i+1)));
  const thisYear = new Date().getFullYear();
  for (let y=thisYear; y>=1940; y--) {
    yearSel.add(new Option(y, y));
  }

  function updateAge() {
    if (!daySel.value  !monthSel.value  !yearSel.value) return;
    const dob = new Date(yearSel.value, monthSel.value-1, daySel.value);
    const today = new Date();
    let age = today.getFullYear() - dob.getFullYear();
    const m = today.getMonth() - dob.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) age--;
    ageInput.value = ${dob.getDate()}.${dob.getMonth()+1}.${dob.getFullYear()} (возраст: ${age});
  }
  daySel.onchange = monthSel.onchange = yearSel.onchange = updateAge;

  // Отправка формы
  document.getElementById('anketaForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const fd = new FormData(e.target);
    document.querySelector('.container').style.display = "none";

    const resp = await fetch("https://bot-h16b.onrender.com/submit", {
      method: "POST",
      body: fd
    });

    if (resp.ok) {
      document.getElementById("success-message").style.display = "block";
    } else {
      alert("Ошибка при отправке анкеты");
      document.querySelector('.container').style.display = "block";
    }
  });
</script>
</body>
</html>
